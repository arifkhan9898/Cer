@model Cer.WebUi.Controllers.HomeController.Checkbox_SelectionModel
@(Html.X().ResourceManager())
@{
    ViewBag.Title = "GridPanel with Checkbox Selection Model - Ext.NET MVC Examples";
    var X = Html.X();
}

<!DOCTYPE html>

<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link rel="home" id="ApplicationPath" href="/" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link href="/Content/font-open-sans.css?v=_lyM_7sDAZstbPZ6aTr8rQ2" rel="stylesheet" type="text/css" />
    <link href="/Content/font-awesome.css?v=U0PuGih6Zf8glhR2_YphiA2" rel="stylesheet" type="text/css" />
    <link href="/Content/simple-line-icons.css?v=U08-bGFZbm-SCdpCiKiQFQ2" rel="stylesheet" type="text/css" />
    <link href="/Content/ionicons.css?v=8nNUsorzz0jSgmDAMwXQzg2" rel="stylesheet" type="text/css" />
    <link href="/Content/aristo/aristo.css?v=EBwm93mANZZqNhbXRld4wg2" rel="stylesheet" type="text/css" />
    <link href="/Content/bootstrap.css?v=W6N62RY2Q8MiUTZnVPCLKg2" rel="stylesheet" type="text/css" />
    <link href="/Content/colorbox/jquery.colorbox.css?v=XnRFE7k2jxZ7HVn-r2Jaww2" rel="stylesheet" type="text/css" />
    <link href="/Content/jquery.fileupload.css?v=T6JqyTNuIq_tJ7F3R_5z3g2" rel="stylesheet" type="text/css" />
    <link href="/Content/pace.css?v=L_wBl1JNKiTT55UKpioDig2" rel="stylesheet" type="text/css" />
    <link href="/Content/slick.grid.css?v=Qhl0MYjRyBVihAtJg0CyYg2" rel="stylesheet" type="text/css" />
    <link href="/Content/css/select2.css?v=qz1jk8aVr8t_14LSWpFqJA2" rel="stylesheet" type="text/css" />
    <link href="/Content/toastr.css?v=lykj60CDw5t8wg1dl5y0OA2" rel="stylesheet" type="text/css" />
    <link href="/Content/serenity/serenity.css?v=VdwcEfVGnpdx3qHHypmHbg2" rel="stylesheet" type="text/css" />
    <link href="/Content/site.css?v=uwjznzwqbnZDAaF4fSfu8Q2" rel="stylesheet" type="text/css" />


    <script type="application/json" id="ScriptCulture">
        {"DateOrder":"mdy","DateFormat":"MM/dd/yyyy","DateSeparator":"/","DateTimeFormat":"MM/dd/yyyy HH:mm:ss","DecimalSeparator":".","GroupSepearator":","}
    </script>
    <script type="text/javascript">window.paceOptions = { minTime: 250, ghostTime: 250, restartOnRequestAfter: 250, ajax: { trackMethods: ['GET', 'POST'], trackWebSockets: true, ignoreURLs: [] } };</script>
    <script src="/Scripts/pace.js?v=evfXQgyADGar15z3wQSTJA2" type="text/javascript"></script>

    <script src="/Scripts/rsvp.js?v=ueGo_q7N2s93Y-AzfUrs8A2" type="text/javascript"></script>
    <script src="/Scripts/jquery-2.2.3.js?v=qsxD1vMI-jYqyF4_T7KzDA2" type="text/javascript"></script>
    <script src="/Scripts/jquery-ui-1.11.4.js?v=BKTbKYNFCilwxFm6h7QhCg2" type="text/javascript"></script>
    <script src="/Scripts/jquery-ui-i18n.js?v=fAmmyIS6gdv3hjEK_SFl9Q2" type="text/javascript"></script>
    <script src="/Scripts/jquery.validate.js?v=n-VHJ2CiW0lEgUCLuaY31g2" type="text/javascript"></script>
    <script src="/Scripts/jquery.blockUI.js?v=pK0cWqNrGE32YMv5pAHwjQ2" type="text/javascript"></script>
    <script src="/Scripts/jquery.cookie.js?v=1VKN3gAGx4vgSBcyfC-bbw2" type="text/javascript"></script>
    <script src="/Scripts/jquery.json.js?v=ojEuMerciKpf9J0ukgaNyg2" type="text/javascript"></script>
    <script src="/Scripts/jquery.autoNumeric.js?v=Cx_a1fBvtVV4DjFAtii2Yw2" type="text/javascript"></script>
    <script src="/Scripts/jquery.colorbox.js?v=lWVLMExZxFAtnKWbSFmEUQ2" type="text/javascript"></script>
    <script src="/Scripts/jquery.dialogextendQ.js?v=q4CdCMYs_hImIJk7B7KATg2" type="text/javascript"></script>
    <script src="/Scripts/jquery.event.drag.js?v=Jh0aUpZ6m9qciziEDSwmXA2" type="text/javascript"></script>
    <script src="/Scripts/jquery.scrollintoview.js?v=j4tgWM1381VKsGUok8so9w2" type="text/javascript"></script>
    <script src="/Scripts/jsrender.js?v=mdny87NRF6Or_YJSPpZbdA2" type="text/javascript"></script>
    <script src="/Scripts/select2.js?v=mb-susqgC8W2T0C4V7rb5g2" type="text/javascript"></script>
    <script src="/Scripts/toastr.js?v=gOnkqpQBPIBBWDh-h2vjsg2" type="text/javascript"></script>


    <script src="/Scripts/Saltarelle/mscorlib.js?v=HVXVT1tVrBXEMnCn7bC0ww2" type="text/javascript"></script>
    <script src="/Scripts/Saltarelle/linq.js?v=94qJzUEo9cjnOYYHAY7fgw2" type="text/javascript"></script>
    <script src="/Scripts/jquery.cropzoom.js?v=ju9wbWcKr48aWqD5qkXCcQ2" type="text/javascript"></script>
    <script src="/Scripts/jquery.fileupload.js?v=e-hGpVezhrzCNo0tj4bR2A2" type="text/javascript"></script>
    <script src="/Scripts/jquery.iframe-transport.js?v=mCjCNWoMY71LgLOhwmmOGQ2" type="text/javascript"></script>
    <script src="/Scripts/jquery.slimscroll.js?v=xE8QUt-SENyFJE8thI08Rw2" type="text/javascript"></script>

    <script src="/Scripts/SlickGrid/slick.core.js?v=BLCRBDx7U3jsEuDNgnEQkw2" type="text/javascript"></script>
    <script src="/Scripts/SlickGrid/slick.grid.js?v=LHS1PyRLrJMklCHXQSbniA2" type="text/javascript"></script>
    <script src="/Scripts/SlickGrid/slick.groupitemmetadataprovider.js?v=RUFU1x9TDSkyvChFWteLsA2" type="text/javascript"></script>
    <script src="/Scripts/SlickGrid/Plugins/slick.autotooltips.js?v=-AIKLINWiZmkA-CnhA5ZRQ2" type="text/javascript"></script>
<script src="/Scripts/SlickGrid/Plugins/slick.headerbuttons.js?v=9YOWFAIrd9_PYSbDwFxdqg2" type="text/javascript"></script>

        <script>
        /* A header Checkbox of CheckboxSelectionModel deals with the current page only.
           This override demonstrates how to take into account all the pages.
           It works with local paging only. It is not going to work with remote paging.
        */
        Ext.selection.CheckboxModel.override({
            selectAll: function(suppressEvent) {
                var me = this,
                    selections = me.store.getAllRange(), // instead of the getRange call
                    i = 0,
                    len = selections.length,
                    start = me.getSelection().length;

                me.suspendChanges();

                for (; i < len; i++) {
                    me.doSelect(selections[i], true, suppressEvent);
                }

                me.resumeChanges();
                if (!suppressEvent) {
                    me.maybeFireSelectionChange(me.getSelection().length !== start);
                }
            },

            deselectAll: Ext.Function.createSequence(Ext.selection.CheckboxModel.prototype.deselectAll, function() {
                this.view.panel.getSelectionMemory().clearMemory();
            }),

            updateHeaderState: function() {
                var me = this,
                    store = me.store,
                    storeCount = store.getTotalCount(),
                    views = me.views,
                    hdSelectStatus = false,
                    selectedCount = 0,
                    selected, len, i;

                if (!store.buffered && storeCount > 0) {
                    selected = me.view.panel.getSelectionMemory().selectedIds;
                    hdSelectStatus = true;
                    for (s in selected) {
                        ++selectedCount;
                    }

                    hdSelectStatus = storeCount === selectedCount;
                }

                if (views && views.length) {
                    me.toggleUiHeader(hdSelectStatus);
                }
            }
        });

        Ext.grid.plugin.SelectionMemory.override({
            memoryRestoreState : function (records) {
                if (this.store !== null && !this.store.buffered && !this.grid.view.bufferedRenderer) {
                    var i = 0,
                        ind,
                        sel = [],
                        len,
                        all = true,
                        cm = this.headerCt;

                    if(!records){
                        records = this.store.getAllRange(); // instead of getRange
                    }

                    if (!Ext.isArray(records)) {
                        records = [records];
                    }

                    if (this.selModel.isLocked()) {
                        this.wasLocked = true;
                        this.selModel.setLocked(false);
                    }

                    if (this.selModel instanceof Ext.selection.RowModel) {
                        for (ind = 0, len = records.length; ind < len; ind++ ) {
                            var rec = records[ind],
                                id = rec.getId();

                            if ((id || id === 0) && !Ext.isEmpty(this.selectedIds[id])) {
                                sel.push(rec);
                            } else {
                                all = false;
                            }

                            ++i;
                        }

                        if (sel.length > 0) {
                            this.surpressDeselection = true;
                            this.selModel.select(sel, false, !this.grid.selectionMemoryEvents);
                            this.surpressDeselection = false;
                        }
                    } else {
                         for (ind = 0, len = records.length; ind < len; ind++ ) {
                            var rec = records[ind],
                                id = rec.getId();

                            if ((id || id === 0) && !Ext.isEmpty(this.selectedIds[id])) {
                                if(this.selectedIds[id].dataIndex)
                                {
                                    var colIndex = cm.getHeaderIndex(cm.down('gridcolumn[dataIndex=' + this.selectedIds[id].dataIndex  +']'))
                                    this.selModel.setCurrentPosition({
                                        row : i,
                                        column : colIndex
                                    });
                                }
                                return false;
                            }

                            ++i;
                        }
                    }

                    if (this.selModel instanceof Ext.selection.CheckboxModel) {
                        if (all) {
                            this.selModel.toggleUiHeader(true);
                        } else {
                            this.selModel.toggleUiHeader(false);
                        }
                    }

                    if (this.wasLocked) {
                        this.selModel.setLocked(true);
                    }
                }
            }
        });
        </script>

        <script>
        var template = '<span style="color:{0};">{1}</span>';

        var change = function (value) {
            return Ext.String.format(template, (value > 0) ? "green" : "red", value);
        };

        var pctChange = function (value) {
            return Ext.String.format(template, (value > 0) ? "green" : "red", value + "%");
        };
        </script>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.2/moment.min.js"></script>

    <script>
        (function ($) {
            /***
             * A sample AJAX data store implementation.
             * Right now, it's hooked up to load Hackernews stories, but can
             * easily be extended to support any JSONP-compatible backend that accepts paging parameters.
             */
            function RemoteModel() {
                // private
                var PAGESIZE = 50;
                var data = { length: 0 };
                var searchstr = "";
                var sortcol = null;
                var sortdir = 1;
                var h_request = null;
                var req = null; // ajax request

                // events
                var onDataLoading = new Slick.Event();
                var onDataLoaded = new Slick.Event();


                function init() {
                }


                function isDataLoaded(from, to) {
                    for (var i = from; i <= to; i++) {
                        if (data[i] == undefined || data[i] == null) {
                            return false;
                        }
                    }

                    return true;
                }


                function clear() {
                    for (var key in data) {
                        delete data[key];
                    }
                    data.length = 0;
                }


                function ensureData(from, to) {
                    if (req) {
                        req.abort();
                        for (var i = req.fromPage; i <= req.toPage; i++)
                            data[i * PAGESIZE] = undefined;
                    }

                    if (from < 0) {
                        from = 0;
                    }

                    if (data.length > 0) {
                        to = Math.min(to, data.length - 1);
                    }

                    var fromPage = Math.floor(from / PAGESIZE);
                    var toPage = Math.floor(to / PAGESIZE);

                    while (data[fromPage * PAGESIZE] !== undefined && fromPage < toPage)
                        fromPage++;

                    while (data[toPage * PAGESIZE] !== undefined && fromPage < toPage)
                        toPage--;

                    if (fromPage > toPage || ((fromPage == toPage) && data[fromPage * PAGESIZE] !== undefined)) {
                        // TODO:  look-ahead
                        onDataLoaded.notify({ from: from, to: to });
                        return;
                    }

                    var url = "http://api.thriftdb.com/api.hnsearch.com/items/_search?filter[fields][type][]=submission&q=" + searchstr + "&start=" + (fromPage * PAGESIZE) + "&limit=" + (((toPage - fromPage) * PAGESIZE) + PAGESIZE);

                    if (sortcol != null) {
                        url += ("&sortby=" + sortcol + ((sortdir > 0) ? "+asc" : "+desc"));
                    }

                    if (h_request != null) {
                        clearTimeout(h_request);
                    }

                    h_request = setTimeout(function () {
                        for (var i = fromPage; i <= toPage; i++)
                            data[i * PAGESIZE] = null; // null indicates a 'requested but not available yet'

                        onDataLoading.notify({ from: from, to: to });

                        req = $.jsonp({
                            url: url,
                            callbackParameter: "callback",
                            cache: true,
                            success: onSuccess,
                            error: function () {
                                onError(fromPage, toPage)
                            }
                        });
                        req.fromPage = fromPage;
                        req.toPage = toPage;
                    }, 50);
                }


                function onError(fromPage, toPage) {
                    alert("error loading pages " + fromPage + " to " + toPage);
                }

                function onSuccess(resp) {
                    var from = resp.request.start, to = from + resp.results.length;
                    data.length = Math.min(parseInt(resp.hits), 1000); // limitation of the API

                    for (var i = 0; i < resp.results.length; i++) {
                        var item = resp.results[i].item;

                        // Old IE versions can't parse ISO dates, so change to universally-supported format.
                        item.create_ts = item.create_ts.replace(/^(\d+)-(\d+)-(\d+)T(\d+:\d+:\d+)Z$/, "$2/$3/$1 $4 UTC");
                        item.create_ts = new Date(item.create_ts);

                        data[from + i] = item;
                        data[from + i].index = from + i;
                    }

                    req = null;

                    onDataLoaded.notify({ from: from, to: to });
                }


                function reloadData(from, to) {
                    for (var i = from; i <= to; i++)
                        delete data[i];

                    ensureData(from, to);
                }


                function setSort(column, dir) {
                    sortcol = column;
                    sortdir = dir;
                    clear();
                }

                function setSearch(str) {
                    searchstr = str;
                    clear();
                }


                init();

                return {
                    // properties
                    "data": data,

                    // methods
                    "clear": clear,
                    "isDataLoaded": isDataLoaded,
                    "ensureData": ensureData,
                    "reloadData": reloadData,
                    "setSort": setSort,
                    "setSearch": setSearch,

                    // events
                    "onDataLoading": onDataLoading,
                    "onDataLoaded": onDataLoaded
                };
            }

            // Slick.Data.RemoteModel
            $.extend(true, window, { Slick: { Data: { RemoteModel: RemoteModel } } });
        })(jQuery);

    </script>

    <title>Equipment catalog</title>
</head>
<body id="s-Page" class="fixed sidebar-mini hold-transition skin-green-light has-layout-event">

    <div class="wrapper">

        <div class="content-wrapper">
            <section class="content-header">

                <h1>Equipment<small> 13 new messages</small></h1>

            </section>
            <section class="content">

                <div class="row">
                    <div class="col-md-3">
                        <div class="box box-solid">
                            <div class="box-header with-border">
                                <h3 class="box-title">Cart</h3>
                                <div class="box-tools">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                        <i class="fa fa-minus"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="box-body no-padding">
                                <ul class="nav nav-pills nav-stacked">
                                    <li class="active">
                                        <a href="#">
                                            <i class="fa fa-inbox"></i> Inbox
                                            <span class="label label-primary pull-right">12</span>
                                        </a>
                                    </li>
                                    <li><a href="#"><i class="fa fa-envelope-o"></i> Sent</a></li>
                                    <li><a href="#"><i class="fa fa-file-text-o"></i> Drafts</a></li>
                                    <li>
                                        <a href="#"><i class="fa fa-filter"></i> Junk <span class="label label-warning pull-right">65</span></a>
                                    </li>
                                    <li><a href="#"><i class="fa fa-trash-o"></i> Trash</a></li>
                                </ul>
                            </div>
                            <!-- /.box-body -->
                        </div>
                        <a href="/AdminLTE/Mailbox/Compose" class="btn btn-primary btn-block margin-bottom">Compose</a>
                        <!-- /. box -->
                        <div class="box box-solid">
                            <div class="box-header with-border">
                                <h3 class="box-title">Labels</h3>
                                <div class="box-tools">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                        <i class="fa fa-minus"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="box-body no-padding">
                                <ul class="nav nav-pills nav-stacked">
                                    <li><a href="#"><i class="fa fa-circle-o text-red"></i> Important</a></li>
                                    <li><a href="#"><i class="fa fa-circle-o text-yellow"></i> Promotions</a></li>
                                    <li><a href="#"><i class="fa fa-circle-o text-light-blue"></i> Social</a></li>
                                </ul>
                            </div>
                            <!-- /.box-body -->
                        </div>
                        <!-- /.box -->
                    </div>
                    <!-- /.col -->
                    <div class="col-md-9">
                        <div class="box box-primary">
                            <div class="box-header with-border">
                                <h3 class="box-title">Catalog of available equipment</h3>
                                <div class="box-tools pull-right">
                                    <div class="has-feedback">
                                        <input type="text" class="form-control input-sm" placeholder="Search Equipment">
                                        <span class="glyphicon glyphicon-search form-control-feedback"></span>
                                    </div>
                                </div>
                                <!-- /.box-tools -->
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body no-padding">
                                <div class="mailbox-controls">
                                    <!-- Check all button -->
                                    <button type="button" class="btn btn-default btn-sm checkbox-toggle">
                                        <i class="fa fa-square-o"></i>
                                    </button>
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-default btn-sm"><i class="fa fa-trash-o"></i></button>
                                        <button type="button" class="btn btn-default btn-sm"><i class="fa fa-reply"></i></button>
                                        <button type="button" class="btn btn-default btn-sm"><i class="fa fa-share"></i></button>
                                    </div>
                                    <!-- /.btn-group -->
                                    <button type="button" class="btn btn-default btn-sm"><i class="fa fa-refresh"></i></button>
                                    <div class="pull-right">
                                        1-50/200
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-default btn-sm"><i class="fa fa-chevron-left"></i></button>
                                            <button type="button" class="btn btn-default btn-sm"><i class="fa fa-chevron-right"></i></button>
                                        </div>
                                        <!-- /.btn-group -->
                                    </div>
                                    <!-- /.pull-right -->
                                </div>
                                <div class="table-responsive mailbox-messages">
                                    @(X.GridPanel()
        .ID("GridPanel1")
        .Title("Company List")
        .Collapsible(true)
        .Width(600)
        .Store(X.Store()
            .PageSize(10)
            .Model(X.Model()
                .IDProperty("ID")
                .Fields("ID", "Name", "Price", "Change", "PctChange")
            )
            .DataSource(Model.Companies)
        )
        .ColumnModel(
            X.Column()
                .Text("Company")
                .DataIndex("Name")
                .Resizable(false)
                .MenuDisabled(true)
                .Flex(1),

            X.Column()
                .Text("Price")
                .Width(75)
                .DataIndex("Price")
                .Renderer(RendererFormat.UsMoney),

             X.Column()
                .Text("Change")
                .Width(75)
                .DataIndex("Change")
                .Renderer("change"),

             X.Column()
                .Text("Change")
                .Width(75)
                .DataIndex("PctChange")
                .Renderer("pctChange")
        )
        .BottomBar(X.PagingToolbar()
            .DisplayInfo(false)
            .Items(
                X.Button()
                    .Text("Submit Selected Records")
                    .DirectEvents(de =>
                    {
                        de.Click.Action = "Submit";
                        de.Click.EventMask.ShowMask = true;
                        de.Click.ExtraParams.Add(new Parameter()
                        {
                            Name = "selection",
                            Value = "App.GridPanel1.getSelectionSubmit().getSelectionModelField().getValue()",
                            Mode = ParameterMode.Raw
                        });
                    })
            )

        )
        .SelectionModel(
            X.CheckboxSelectionModel()
                .Mode(SelectionMode.Multi)
                .SelectedRows(rows => rows.AddRange(Model.InitiallySelectedRows))
            )

                                    )

                                    <div style="width:590px; border:1px solid gray; padding:5px;">
                                        @X.Label().ID("Label1")
                                    </div>
                                    <div>Add here</div>
                                    <table class="table table-hover table-striped">
                                        <tbody>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"></td>
                                            <td class="mailbox-date">5 mins ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star-o text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"><i class="fa fa-paperclip"></i></td>
                                            <td class="mailbox-date">28 mins ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star-o text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"><i class="fa fa-paperclip"></i></td>
                                            <td class="mailbox-date">11 hours ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"></td>
                                            <td class="mailbox-date">15 hours ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"><i class="fa fa-paperclip"></i></td>
                                            <td class="mailbox-date">Yesterday</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star-o text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"><i class="fa fa-paperclip"></i></td>
                                            <td class="mailbox-date">2 days ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star-o text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"><i class="fa fa-paperclip"></i></td>
                                            <td class="mailbox-date">2 days ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"></td>
                                            <td class="mailbox-date">2 days ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"></td>
                                            <td class="mailbox-date">2 days ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star-o text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"></td>
                                            <td class="mailbox-date">2 days ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star-o text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"><i class="fa fa-paperclip"></i></td>
                                            <td class="mailbox-date">4 days ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"></td>
                                            <td class="mailbox-date">12 days ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star-o text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"><i class="fa fa-paperclip"></i></td>
                                            <td class="mailbox-date">12 days ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"><i class="fa fa-paperclip"></i></td>
                                            <td class="mailbox-date">14 days ago</td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox"></td>
                                            <td class="mailbox-star"><a href="#"><i class="fa fa-star text-yellow"></i></a></td>
                                            <td class="mailbox-name"><a href="/AdminLTE/Mailbox/Read">Alexander Pierce</a></td>
                                            <td class="mailbox-subject">
                                                <b>AdminLTE 2.0 Issue</b> - Trying to find a solution to this problem...
                                            </td>
                                            <td class="mailbox-attachment"><i class="fa fa-paperclip"></i></td>
                                            <td class="mailbox-date">15 days ago</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <!-- /.table -->
                                </div>
                                <!-- /.mail-box-messages -->
                            </div>
                            <!-- /.box-body -->
                            <div class="box-footer no-padding">
                                <div class="mailbox-controls">
                                    <!-- Check all button -->
                                    <button type="button" class="btn btn-default btn-sm checkbox-toggle">
                                        <i class="fa fa-square-o"></i>
                                    </button>
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-default btn-sm"><i class="fa fa-trash-o"></i></button>
                                        <button type="button" class="btn btn-default btn-sm"><i class="fa fa-reply"></i></button>
                                        <button type="button" class="btn btn-default btn-sm"><i class="fa fa-share"></i></button>
                                    </div>
                                    <!-- /.btn-group -->
                                    <button type="button" class="btn btn-default btn-sm"><i class="fa fa-refresh"></i></button>
                                    <div class="pull-right">
                                        1-50/200
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-default btn-sm"><i class="fa fa-chevron-left"></i></button>
                                            <button type="button" class="btn btn-default btn-sm"><i class="fa fa-chevron-right"></i></button>
                                        </div>
                                        <!-- /.btn-group -->
                                    </div>
                                    <!-- /.pull-right -->
                                </div>
                            </div>
                        </div>
                        <!-- /. box -->
                    </div>
                    <!-- /.col -->
                </div>
                <!-- /.row -->

                <script>
                    $(function () {
                        //Enable iCheck plugin for checkboxes
                        //iCheck for checkbox and radio inputs
                        $('.mailbox-messages input[type="checkbox"]').iCheck({
                            checkboxClass: 'icheckbox_flat-blue',
                            radioClass: 'iradio_flat-blue'
                        });

                        //Enable check and uncheck all functionality
                        $(".checkbox-toggle").click(function () {
                            var clicks = $(this).data('clicks');
                            if (clicks) {
                                //Uncheck all checkboxes
                                $(".mailbox-messages input[type='checkbox']").iCheck("uncheck");
                                $(".fa", this).removeClass("fa-check-square-o").addClass('fa-square-o');
                            } else {
                                //Check all checkboxes
                                $(".mailbox-messages input[type='checkbox']").iCheck("check");
                                $(".fa", this).removeClass("fa-square-o").addClass('fa-check-square-o');
                            }
                            $(this).data("clicks", !clicks);
                        });

                        //Handle starring for glyphicon and font awesome
                        $(".mailbox-star").click(function (e) {
                            e.preventDefault();
                            //detect type
                            var $this = $(this).find("a > i");
                            var glyph = $this.hasClass("glyphicon");
                            var fa = $this.hasClass("fa");

                            //Switch states
                            if (glyph) {
                                $this.toggleClass("glyphicon-star");
                                $this.toggleClass("glyphicon-star-empty");
                            }

                            if (fa) {
                                $this.toggleClass("fa-star");
                                $this.toggleClass("fa-star-o");
                            }
                        });
                    });
                </script>

            </section>
        </div>

        <aside class="control-sidebar control-sidebar-dark">
            <div class="tab-content">
                <div class="tab-pane active" id="control-sidebar-settings-tab">
                    <form method="post">
                        <h3 class="control-sidebar-heading">General Settings</h3>

                        <div class="form-group">
                            <label class="control-sidebar-subheading">Language</label>
                            <select id="LanguageSelect" class="form-control"></select>
                        </div>

                        <div class="form-group" style="margin-top: 15px;">
                            <label class="control-sidebar-subheading">Theme</label>
                            <select id="ThemeSelect" class="form-control"></select>
                        </div>
                    </form>
                </div>
            </div>
        </aside>
        <div class="control-sidebar-bg"></div>
    </div>
    <script type="text/javascript">
        $().ready(function () {
            new Serene1.Common.SidebarSearch($('#SidebarSearch'), $('#SidebarMenu')).init();
            new Serene1.Common.LanguageSelection($('#LanguageSelect'), 'en');
            new Serene1.Common.ThemeSelection($('#ThemeSelect'));
            ;

            var doLayout = function () {
                height = (this.window.innerHeight > 0) ? this.window.innerHeight : this.screen.height;
                height -= $('header.main-header').outerHeight();
                height -= $('section.content-header').outerHeight();
                height -= $('footer.main-footer').outerHeight();
                if (height < 200) height = 200;
                $("section.content").css("min-height", (height) + "px");

                $('body').triggerHandler('layout');
            };

            $(window).bind("load resize layout", doLayout);
            doLayout();
        });
    </script>
</body>
</html>